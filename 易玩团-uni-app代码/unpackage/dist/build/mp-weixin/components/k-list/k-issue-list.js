(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/k-list/k-issue-list"],{"027e":function(t,e,i){},"54af":function(t,e,i){"use strict";(function(t){function i(t){return a(t)||r(t)||n(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"===typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return o(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u={props:{type:null,userId:null,searchContent:null},data:function(){return{theme:"",emptyImg:getApp().globalData.contentEmptyImg,baseUrl:"https://zmetalhearty.com",currentPage:1,issueList:[],refreshTrigger:!1}},computed:{timeFormat:function(){return function(t){var e=t.split(":");return e[0]+"点"+e[1]+"分"}}},created:function(){this.getHeight(),this.getIssueList(),t.getStorageSync("historyList")||t.setStorageSync("historyList",[])},mounted:function(){},methods:{getHeight:function(){var t=["publish","attend","collection","history"];-1!=t.indexOf(this.type)?this.theme="myPin":"userIssue"==this.type&&(this.theme="userIssueList")},refresh:function(){this.refreshTrigger=!0,this.currentPage=1,this.getIssueList()},next:function(){this.getIssueList("next")},getIssueList:function(e){var s,n=this,r=!1,a="POST",o=!0;if(null!=this.type){var u={fromFuId:t.getStorageSync("userid"),page:this.currentPage,limit:10};switch(this.type){case"all":s="issue/listjson";break;case"learn":s="issue/listjson",u.iType=1;break;case"travel":s="issue/listjson",u.iType=2;break;case"food":s="issue/listjson",u.iType=3;break;case"fun":s="issue/listjson",u.iType=4;break;case"userIssue":s="issue/listjson",u.fuId=this.userId;break;case"publish":s="issue/listjson",u.fuId=t.getStorageSync("userid");break;case"attend":s="issueAttend/listjson",u.fuId=t.getStorageSync("userid");break;case"collection":s="frontUserIssueCollections/listjson",u.fuId=Number(this.userId);break;case"history":0!=t.getStorageSync("historyList").length?s="issue/getByIIdList?fromFuId=".concat(t.getStorageSync("userid"),"&iIds=").concat(JSON.stringify.apply(JSON,i(t.getStorageSync("historyList")))):o=!1;break;case"search":s="issue/listjson",""!=this.searchContent&&(u.iTitle=this.searchContent);break}}null!=s&&null!=u&&o&&this.request(s,a,u,r).then((function(t){var s,r;(console.log(n.type),console.log(t),n.refreshTrigger=!1,0!=t.data.data.length)&&(n.currentPage++,"next"!=e?"attend"==n.type||"collection"==n.type?n.issueList=n.issueFormat(t.data.data.map((function(t){return t.issue}))):n.issueList=n.issueFormat(t.data.data):"attend"==n.type||"collection"==n.type?(s=n.issueList).push.apply(s,i(n.issueFormat(t.data.data.map((function(t){return t.issue}))))):(r=n.issueList).push.apply(r,i(n.issueFormat(t.data.data))))}))},issueFormat:function(t){return t.forEach((function(t){t.iImg&&(t.iImg=t.iImg.split(","),t.iImg.splice(1,1)),t.iStartTime&&(t.iStartTime={date:t.iStartTime.trim().split(/\s+/)[0],time:t.iStartTime.trim().split(/\s+/)[1]}),t.iEndTime&&(t.iEndTime={date:t.iEndTime.trim().split(/\s+/)[0],time:t.iEndTime.trim().split(/\s+/)[1]}),t.iAddress&&(t.iAddress=JSON.parse(t.iAddress)),t.iPositionStart&&(t.iPositionStart=JSON.parse(t.iPositionStart)),t.iPositionEnd&&(t.iPositionEnd=JSON.parse(t.iPositionEnd))})),t},goDetail:function(e){t.navigateTo({url:"../../pages/detail/detail?id="+e})}}};e.default=u}).call(this,i("543d")["default"])},"592e":function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}));var n=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.issueList,(function(e,i){var s=t.__get_orig(e),n=t.timeFormat(e.iStartTime.time),r=e.issueAttend?e.issueAttend.slice(0,5):null;return{$orig:s,m0:n,l0:r}})));t.$mp.data=Object.assign({},{$root:{l1:i}})},r=[]},bcb8:function(t,e,i){"use strict";i.r(e);var s=i("54af"),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},c2d7:function(t,e,i){},d4ce:function(t,e,i){"use strict";var s=i("c2d7"),n=i.n(s);n.a},d785:function(t,e,i){"use strict";i.r(e);var s=i("592e"),n=i("bcb8");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("e124"),i("d4ce");var a,o=i("f0c5"),u=Object(o["a"])(n["default"],s["b"],s["c"],!1,null,"0f585cfa",null,!1,s["a"],a);e["default"]=u.exports},e124:function(t,e,i){"use strict";var s=i("027e"),n=i.n(s);n.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/k-list/k-issue-list-create-component',
    {
        'components/k-list/k-issue-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("d785"))
        })
    },
    [['components/k-list/k-issue-list-create-component']]
]);
